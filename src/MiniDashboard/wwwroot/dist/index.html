<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Mini Dashboard</title>
    <link rel="icon"
          href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŽ¯</text></svg>">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <link rel="stylesheet" href="thirdparty/Chart.min.css">
    <script src="thirdparty/jquery-3.5.1.min.js"></script>
    <script src="thirdparty/moment.min.js"></script>
    <script src="thirdparty/Chart.min.js"></script>
    <script src="thirdparty/handlebars.min.js"></script>
    <script>
        const baseUrl = "{{base_url}}";
        const loginUrl = "{{login_url}}";
        const refreshUrl = "{{refresh_url}}";
    </script>
</head>

<body class="bg-gray-100">

<div id="toolbar-container" class="flex justify-end mt-1 mr-1"></div>

<div id="container" class="container px-2 mx-auto mt-5">
    <!-- STAT CARDS CONTAINER -->
    <div class="md:flex md:flex-wrap" id="gi-container"></div>

    <!-- CHARTS CONTAINER -->
    <div id="charts-container" class="min-h-20 lg:grid gap-4 grid-cols-2 my-5"></div>
</div>

<!-- CARD TEMPLATE -->
<script id="statCardTpl" type="text/x-handlebars-template">
    <div id="{{id}}" class="p-5 mb-3 bg-white rounded shadow-lg cursor-default md:mr-3">
        <p class="text-sm font-bold text-gray-600">{{title}}</p>
        <div class="flex items-center justify-between w-auto align-bottom">
            <p class="w-auto lg:text-lg font-bold text-gray-800">{{value}}</p>
        </div>
    </div>
</script>

<!-- CHART TEMPLATE -->
<script id="chartTpl" type="text/x-handlebars-template">
    <div class="p-5 bg-white rounded shadow-lg my-5 lg:my-0">
        <p class="pb-5 text-xl font-bold text-gray-800">{{title}}</p>
        <canvas id="{{id}}"></canvas>
    </div>
</script>

<!-- TABLE TEMPLATE -->
<script id="tableTpl" type="text/x-handlebars-template">
    <div class="w-full p-5 mb-5 bg-white rounded shadow-lg">
        <div class="flex justify-between align-items-center w-full">
            <p class="text-xl font-bold text-gray-800">{{title}}</p>
            <div class="relative inline-block w-full sm:w-64">
                <input type="text" id="{{searchId}}"
                       class="block w-full px-4 py-1 pl-8 text-sm leading-snug text-gray-600 bg-gray-100 border border-gray-300 rounded-lg appearance-none focus:outline-none"
                       placeholder="Search"/>
                <div class="absolute inset-y-0 left-0 flex items-center px-2 pl-3 text-gray-300 pointer-events-none">
                    <svg class="w-3 h-3 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.999 511.999">
                        <path d="M508.874 478.708L360.142 329.976c28.21-34.827 45.191-79.103 45.191-127.309C405.333 90.917 314.416 0 202.666 0S0 90.917 0 202.667s90.917 202.667 202.667 202.667c48.206 0 92.482-16.982 127.309-45.191l148.732 148.732c4.167 4.165 10.919 4.165 15.086 0l15.081-15.082c4.165-4.166 4.165-10.92-.001-15.085zM202.667 362.667c-88.229 0-160-71.771-160-160s71.771-160 160-160 160 71.771 160 160-71.771 160-160 160z"/>
                    </svg>
                </div>
            </div>
        </div>
        <div class="mt-6 overflow-x-auto">
            <table id="{{id}}" class="w-full border-collapse table-auto">
                <thead>
                <tr class="text-sm text-left text-gray-700 bg-green-200 bg-opacity-50">{{{headers}}}</tr>
                </thead>
                <tbody class="text-sm font-normal text-gray-700">{{{rows}}}</tbody>
            </table>
        </div>
    </div>
</script>

<!--TOOLBAR ELEMENTS TEMPLATE-->
<script id="toolbarTpl" type="text/x-handlebars-template">
    <a href="#" title="logout" id="logout">
        <svg width="17" height="17" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 14L12.4 12.6L9.8 10L20 10L20 8L9.8 8L12.4 5.4L11 4L6 9L11 14ZM2 2L10 2L10 8.74228e-07L2 1.57361e-06C0.899998 1.66978e-06 -1.49493e-06 0.900002 -1.39876e-06 2L-1.74846e-07 16C-7.86805e-08 17.1 0.9 18 2 18L10 18L10 16L2 16L2 2Z"
                  fill="black"/>
        </svg>
    </a>
</script>

<!--LOGIN VIEW TEMPLATE-->
<script id="loginViewTpl" type="text/x-handlebars-template">
    <div class="container mx-auto mt-40">
        <div class="p-5 my-5 bg-white rounded shadow-lg max-w-sm mx-auto">
            <p class="pb-5 text-2xl font-bold text-gray-800">Login</p>
            <input id="email" type="email"
                   class="my-2 w-full py-1 px-4 text-sm text-gray-600 bg-gray-100 border border-gray-300 rounded-lg appearance-none focus:outline-none"
                   placeholder="Email"/>
            <input id="password" type="password"
                   class="my-2 w-full py-1 px-4 text-sm text-gray-600 bg-gray-100 border border-gray-300 rounded-lg appearance-none focus:outline-none"
                   placeholder="Password"/>
            <p id="error" class="text-xs font-light text-red-600"></p>
            <button id="login" class="transition duration-500 ease-in-out bg-green-600 hover:bg-green-700 text-white text-sm py-1 px-3 mt-3 rounded">Login</button>
        </div>
    </div>
</script>

<script src="main.js"></script>
</body>

</html>
